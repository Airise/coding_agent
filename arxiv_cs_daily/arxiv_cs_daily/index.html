<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arXiv CS Daily</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-newspaper"></i> arXiv CS Daily</h1>
            <p class="subtitle">Your daily digest of Computer Science preprints</p>
            <div class="date-display" id="currentDate"></div>
        </div>
    </header>

    <nav class="domain-nav">
        <div class="container">
            <h2><i class="fas fa-filter"></i> Filter by Subfield</h2>
            <div class="nav-buttons" id="navButtons">
                <!-- Buttons will be generated by JavaScript -->
            </div>
            <div class="active-filter">
                Currently viewing: <span id="activeFilter">All CS</span>
            </div>
        </div>
    </nav>

    <main class="container">
        <section class="paper-list">
            <h2><i class="fas fa-list"></i> Latest Papers</h2>
            <div class="list-controls">
                <div class="sort-control">
                    <label for="sortSelect">Sort by:</label>
                    <select id="sortSelect">
                        <option value="date">Submission Date (Newest)</option>
                        <option value="title">Title (A-Z)</option>
                    </select>
                </div>
                <div class="search-control">
                    <input type="text" id="searchInput" placeholder="Search papers...">
                    <button id="searchButton"><i class="fas fa-search"></i></button>
                </div>
            </div>
            <div class="papers-container" id="papersContainer">
                <!-- Paper entries will be generated by JavaScript -->
                <div class="loading" id="loadingIndicator">
                    <i class="fas fa-spinner fa-spin"></i> Loading today's papers...
                </div>
            </div>
            <div class="pagination" id="pagination">
                <!-- Pagination will be generated by JavaScript -->
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>arXiv CS Daily is an unofficial interface to arXiv.org CS preprints. Data is fetched daily from the arXiv API.</p>
            <p>This is a demonstration project. For the official arXiv site, visit <a href="https://arxiv.org/" target="_blank">arxiv.org</a>.</p>
            <p class="update-note">Last updated: <span id="lastUpdated"></span></p>
        </div>
    </footer>

    <!-- Paper Detail Modal -->
    <div class="modal" id="paperModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Paper Title</h2>
                <button class="close-modal" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="paper-metadata">
                    <p><strong>Authors:</strong> <span id="modalAuthors"></span></p>
                    <p><strong>Submission Date:</strong> <span id="modalDate"></span></p>
                    <p><strong>arXiv ID:</strong> <span id="modalArxivId"></span></p>
                    <p><strong>Primary Category:</strong> <span id="modalCategory"></span></p>
                    <p><strong>Abstract:</strong></p>
                    <div class="abstract" id="modalAbstract"></div>
                </div>
                
                <div class="action-buttons">
                    <a class="btn pdf-btn" id="pdfLink" target="_blank">
                        <i class="fas fa-file-pdf"></i> View PDF
                    </a>
                    <a class="btn arxiv-btn" id="arxivLink" target="_blank">
                        <i class="fas fa-external-link-alt"></i> Open on arXiv
                    </a>
                </div>
                
                <div class="citation-section">
                    <h3><i class="fas fa-quote-right"></i> Citation Tools</h3>
                    <div class="citation-format-selector">
                        <button class="citation-format-btn active" data-format="bibtex">BibTeX</button>
                        <button class="citation-format-btn" data-format="apa">APA</button>
                        <button class="citation-format-btn" data-format="mla">MLA</button>
                        <button class="citation-format-btn" data-format="chicago">Chicago</button>
                    </div>
                    <div class="citation-display">
                        <pre id="citationText">Select a citation format</pre>
                        <button class="btn copy-btn" id="copyCitation">
                            <i class="far fa-copy"></i> Copy Citation
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.getElementById('navButtons');
            const activeFilterSpan = document.getElementById('activeFilter');
            const papersContainer = document.getElementById('papersContainer');
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            const categories = [
                { code: 'all', name: 'All CS' },
                { code: 'cs.AI', name: 'Artificial Intelligence' },
                { code: 'cs.CL', name: 'Computation and Language' },
                { code: 'cs.CC', name: 'Computational Complexity' },
                { code: 'cs.CE', name: 'Computational Engineering, Finance, and Science' },
                { code: 'cs.CG', name: 'Computational Geometry' },
                { code: 'cs.GT', name: 'Computer Science and Game Theory' },
                { code: 'cs.CV', name: 'Computer Vision and Pattern Recognition' },
                { code: 'cs.CY', name: 'Computers and Society' },
                { code: 'cs.CR', name: 'Cryptography and Security' },
                { code: 'cs.DS', name: 'Data Structures and Algorithms' },
                { code: 'cs.DB', name: 'Databases' },
                { code: 'cs.DL', name: 'Digital Libraries' },
                { code: 'cs.DM', name: 'Discrete Mathematics' },
                { code: 'cs.DC', name: 'Distributed, Parallel, and Cluster Computing' },
                { code: 'cs.ET', name: 'Emerging Technologies' },
                { code: 'cs.FL', name: 'Formal Languages and Automata Theory' },
                { code: 'cs.GL', name: 'General Literature' },
                { code: 'cs.GR', name: 'Graphics' },
                { code: 'cs.AR', name: 'Hardware Architecture' },
                { code: 'cs.HC', name: 'Human-Computer Interaction' },
                { code: 'cs.IR', name: 'Information Retrieval' },
                { code: 'cs.IT', name: 'Information Theory' },
                { code: 'cs.LO', name: 'Logic in Computer Science' },
                { code: 'cs.LG', name: 'Machine Learning' },
                { code: 'cs.MS', name: 'Mathematical Software' },
                { code: 'cs.MA', name: 'Multiagent Systems' },
                { code: 'cs.MM', name: 'Multimedia' },
                { code: 'cs.NI', name: 'Networking and Internet Architecture' },
                { code: 'cs.NE', name: 'Neural and Evolutionary Computing' },
                { code: 'cs.NA', name: 'Numerical Analysis' },
                { code: 'cs.OS', name: 'Operating Systems' },
                { code: 'cs.OH', name: 'Other Computer Science' },
                { code: 'cs.PF', name: 'Performance' },
                { code: 'cs.PL', name: 'Programming Languages' },
                { code: 'cs.RO', name: 'Robotics' },
                { code: 'cs.SE', name: 'Software Engineering' },
                { code: 'cs.SD', name: 'Sound' },
                { code: 'cs.SC', name: 'Symbolic Computation' },
                { code: 'cs.SY', name: 'Systems and Control' }
            ];
            
            categories.forEach(category => {
                const button = document.createElement('button');
                button.className = 'nav-btn';
                button.dataset.category = category.code;
                button.textContent = category.name;
                
                if (category.code === 'all') {
                    button.classList.add('active');
                }
                
                navButtons.appendChild(button);
            });
            
            navButtons.addEventListener('click', function(event) {
                if (event.target.classList.contains('nav-btn')) {
                    const category = event.target.dataset.category;
                    
                    document.querySelectorAll('.nav-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    event.target.classList.add('active');
                    
                    const categoryName = categories.find(c => c.code === category).name;
                    activeFilterSpan.textContent = categoryName;
                    
                    filterPapersByCategory(category);
                }
            });
            
            function filterPapersByCategory(category) {
                const paperElements = papersContainer.querySelectorAll('.paper-entry');
                
                if (category === 'all') {
                    paperElements.forEach(paper => {
                        paper.style.display = 'block';
                    });
                } else {
                    paperElements.forEach(paper => {
                        const paperCategory = paper.dataset.category;
                        if (paperCategory === category) {
                            paper.style.display = 'block';
                        } else {
                            paper.style.display = 'none';
                        }
                    });
                }
            }
            
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
                
                const samplePapers = [
                    {
                        id: '2401.00123',
                        title: 'A Novel Approach to Machine Learning Optimization',
                        authors: ['John Doe', 'Jane Smith'],
                        date: '2024-01-01',
                        category: 'cs.LG',
                        abstract: 'This paper presents a new optimization method for machine learning models...'
                    },
                    {
                        id: '2401.00124',
                        title: 'Advanced Computer Vision Techniques for Autonomous Driving',
                        authors: ['Alice Johnson', 'Bob Wilson'],
                        date: '2024-01-01',
                        category: 'cs.CV',
                        abstract: 'We propose novel computer vision algorithms for autonomous vehicle navigation...'
                    },
                    {
                        id: '2401.00125',
                        title: 'Secure Communication Protocols for IoT Networks',
                        authors: ['Charlie Brown', 'Diana Prince'],
                        date: '2024-01-01',
                        category: 'cs.CR',
                        abstract: 'This research introduces secure protocols for Internet of Things communication...'
                    },
                    {
                        id: '2401.00126',
                        title: 'Efficient Algorithms for Large-Scale Data Processing',
                        authors: ['Edward Snow', 'Fiona Apple'],
                        date: '2024-01-01',
                        category: 'cs.DS',
                        abstract: 'We develop efficient algorithms for processing massive datasets in distributed systems...'
                    },
                    {
                        id: '2401.00127',
                        title: 'Natural Language Processing for Low-Resource Languages',
                        authors: ['George Lucas', 'Hannah Montana'],
                        date: '2024-01-01',
                        category: 'cs.CL',
                        abstract: 'This work addresses NLP challenges for languages with limited digital resources...'
                    }
                ];
                
                samplePapers.forEach(paper => {
                    const paperElement = document.createElement('div');
                    paperElement.className = 'paper-entry';
                    paperElement.dataset.category = paper.category;
                    
                    paperElement.innerHTML = `
                        <div class="paper-header">
                            <h3 class="paper-title">
                                <a href="#" class="paper-detail-link" data-id="${paper.id}">${paper.title}</a>
                            </h3>
                            <span class="paper-category">[${paper.category}]</span>
                        </div>
                        <div class="paper-meta">
                            <span class="paper-authors">${paper.authors.join(', ')}</span>
                            <span class="paper-date">Submitted: ${paper.date}</span>
                        </div>
                        <p class="paper-abstract-preview">${paper.abstract.substring(0, 150)}...</p>
                    `;
                    
                    papersContainer.appendChild(paperElement);
                });
                
                document.querySelectorAll('.paper-detail-link').forEach(link => {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        const paperId = this.dataset.id;
                        const paper = samplePapers.find(p => p.id === paperId);
                        
                        if (paper) {
                            document.getElementById('modalTitle').textContent = paper.title;
                            document.getElementById('modalAuthors').textContent = paper.authors.join(', ');
                            document.getElementById('modalDate').textContent = paper.date;
                            document.getElementById('modalArxivId').textContent = paper.id;
                            document.getElementById('modalCategory').textContent = paper.category;
                            document.getElementById('modalAbstract').textContent = paper.abstract;
                            
                            document.getElementById('pdfLink').href = `https://arxiv.org/pdf/${paper.id}.pdf`;
                            document.getElementById('arxivLink').href = `https://arxiv.org/abs/${paper.id}`;
                            
                            document.getElementById('paperModal').style.display = 'block';
                        }
                    });
                });
                
                const now = new Date();
                document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                document.getElementById('lastUpdated').textContent = now.toLocaleDateString();
                
            }, 1000);
            
            document.getElementById('closeModal').addEventListener('click', function() {
                document.getElementById('paperModal').style.display = 'none';
            });
            
            window.addEventListener('click', function(event) {
                const modal = document.getElementById('paperModal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            document.querySelectorAll('.citation-format-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.citation-format-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const format = this.dataset.format;
                    const paperId = document.getElementById('modalArxivId').textContent;
                    const title = document.getElementById('modalTitle').textContent;
                    const authors = document.getElementById('modalAuthors').textContent;
                    const date = document.getElementById('modalDate').textContent;
                    
                    let citation = '';
                    
                    switch(format) {
                        case 'bibtex':
                            citation = `@article{${paperId.replace('.', '')},
  title={${title}},
  author={${authors}},
  journal={arXiv preprint},
  year={${date.substring(0, 4)}},
  eprint={${paperId}},
  url={https://arxiv.org/abs/${paperId}}
}`;
                            break;
                        case 'apa':
                            citation = `${authors.split(',')[0]}. (${date.substring(0, 4)}). ${title}. arXiv preprint ${paperId}.`;
                            break;
                        case 'mla':
                            citation = `${authors.split(',')[0]}. "${title}." arXiv preprint ${paperId} (${date.substring(0, 4)}).`;
                            break;
                        case 'chicago':
                            citation = `${authors.split(',')[0]}. "${title}." arXiv preprint ${paperId} (${date.substring(0, 4)}).`;
                            break;
                    }
                    
                    document.getElementById('citationText').textContent = citation;
                });
            });
            
            document.getElementById('copyCitation').addEventListener('click', function() {
                const citationText = document.getElementById('citationText').textContent;
                navigator.clipboard.writeText(citationText).then(() => {
                    const originalText = this.innerHTML;
                    this.innerHTML = '<i class="fas fa-check"></i> Copied!';
                    setTimeout(() => {
                        this.innerHTML = originalText;
                    }, 2000);
                });
            });
            
            document.getElementById('searchButton').addEventListener('click', performSearch);
            document.getElementById('searchInput').addEventListener('keyup', function(event) {
                if (event.key === 'Enter') {
                    performSearch();
                }
            });
            
            function performSearch() {
                const searchTerm = document.getElementById('searchInput').value.toLowerCase();
                const paperElements = papersContainer.querySelectorAll('.paper-entry');
                
                paperElements.forEach(paper => {
                    const title = paper.querySelector('.paper-title').textContent.toLowerCase();
                    const authors = paper.querySelector('.paper-authors').textContent.toLowerCase();
                    const abstract = paper.querySelector('.paper-abstract-preview').textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || authors.includes(searchTerm) || abstract.includes(searchTerm)) {
                        paper.style.display = 'block';
                    } else {
                        paper.style.display = 'none';
                    }
                });
            }
            
            document.getElementById('sortSelect').addEventListener('change', function() {
                const sortBy = this.value;
                const papersContainer = document.getElementById('papersContainer');
                const paperElements = Array.from(papersContainer.querySelectorAll('.paper-entry'));
                
                paperElements.sort((a, b) => {
                    if (sortBy === 'date') {
                        const dateA = a.querySelector('.paper-date').textContent.split(': ')[1];
                        const dateB = b.querySelector('.paper-date').textContent.split(': ')[1];
                        return new Date(dateB) - new Date(dateA);
                    } else if (sortBy === 'title') {
                        const titleA = a.querySelector('.paper-title').textContent.toLowerCase();
                        const titleB = b.querySelector('.paper-title').textContent.toLowerCase();
                        return titleA.localeCompare(titleB);
                    }
                    return 0;
                });
                
                paperElements.forEach(paper => {
                    papersContainer.appendChild(paper);
                });
            });
        });
    </script>
</body>
</html>